<!DOCTYPE html>
<head>
  <title>open-falcon</title>
  <meta charset='utf-8'/>
  <meta name='description' content='Documentation website'/>
  <meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1'/>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'/>
  <link href='assets.css' rel='stylesheet' type='text/css'>
</head>
<body>  
  <nav id='sidebar'>
	<h1>open-falcon</h1>
<ul id='links'>
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
    <li><a href='#/response-status-codes'>Response status codes</a></li>
    
  
    
    <li><a href='#/authentication'>Auth Session</a></li>
    
  
  
  <li><h2>Admin</h2>
    <ul>
    
              
        <li class=''><a href='#'></a></li>
      
    
              
        <li class='DELETE'><a href='#/admin_delete_user'>Delete User</a></li>
              
        <li class='PUT'><a href='#/admin_change_user_passwd'>Change User's Password</a></li>
              
        <li class='PUT'><a href='#/admin_change_role'>Change User's role</a></li>
      
    
    </ul>
  </li>

  <li><h2>Aggreator</h2>
    <ul>
    
              
        <li class=''><a href='#'></a></li>
      
    
              
        <li class='GET'><a href='#/get_aggreator_by_id'>Get Aggreator Info by id</a></li>
              
        <li class='PUT'><a href='#/aggreator_update'>Update Aggreator</a></li>
              
        <li class='GET'><a href='#/aggreator_of_hostgroup'>Get Aggreator List of HostGroup</a></li>
              
        <li class='DELETE'><a href='#/aggreator_delete'>Delete Aggreator</a></li>
              
        <li class='GET'><a href='#/aggreator_create'>Create Aggreator to a HostGroup</a></li>
      
    
    </ul>
  </li>

  <li><h2>Expression</h2>
    <ul>
    
              
        <li class=''><a href='#'></a></li>
      
    
              
        <li class='PUT'><a href='#/expression_update'>Update Expression</a></li>
              
        <li class='GET'><a href='#/expression_list'>Expression List</a></li>
              
        <li class='GET'><a href='#/expression_info_by_id'>Get Expression Info by id</a></li>
              
        <li class='DELETE'><a href='#/expression_delete'>Delete Expression</a></li>
              
        <li class='POST'><a href='#/expression_create'>Create Expression</a></li>
      
    
    </ul>
  </li>

  <li><h2>Graph</h2>
    <ul>
    
              
        <li class=''><a href='#'></a></li>
      
    
              
        <li class='POST'><a href='#/graph_histroy'>Graph History</a></li>
              
        <li class='GET'><a href='#/endpointstr_counter'>Get Counter of Endpoint by endpoint names</a></li>
              
        <li class='GET'><a href='#/endpoints'>Endpoint List</a></li>
              
        <li class='GET'><a href='#/endpoint_counter'>Get Counter of Endpoint</a></li>
      
    
    </ul>
  </li>

  <li><h2>Host</h2>
    <ul>
    
              
        <li class=''><a href='#'></a></li>
      
    
              
        <li class='POST'><a href='#/host_set_maintain_time'>Set maintain time for hosts</a></li>
              
        <li class='GET'><a href='#/host_related_template'>Get bind Template List of Host</a></li>
              
        <li class='GET'><a href='#/host_related_hostgroup'>Get related HostGorup of Host</a></li>
      
    
    </ul>
  </li>

  <li><h2>HostGroup</h2>
    <ul>
    
              
        <li class=''><a href='#'></a></li>
      
    
              
        <li class='PUT'><a href='#/unbind_a_host_on_hostgroup'>Unbind a Host on HostGroup</a></li>
              
        <li class='PUT'><a href='#/hostgroup_template_unbind'>Unbind A Template of A HostGroup</a></li>
              
        <li class='GET'><a href='#/hostgroup_template_list'>Get Template List of  HostGroup</a></li>
              
        <li class='POST'><a href='#/hostgroup_template_bind'>Bind A Template to HostGroup</a></li>
              
        <li class='GET'><a href='#/hostgroup_list'>HostGroup List</a></li>
              
        <li class='GET'><a href='#/hostgroup_get_info_by_id'>Get HostGroup info by id</a></li>
              
        <li class='DELETE'><a href='#/hostgroup_delete'>Delete HostGroup</a></li>
              
        <li class='POST'><a href='#/host_create'>Create HostGroup</a></li>
              
        <li class='POST'><a href='#/add_host_to_hostgroup'>Add Hosts to HostGroup</a></li>
      
    
    </ul>
  </li>

  <li><h2>NoData</h2>
    <ul>
    
              
        <li class=''><a href='#'></a></li>
      
    
              
        <li class='PUT'><a href='#/nodata_update'>Update Nodata</a></li>
              
        <li class='GET'><a href='#/nodata_list'>Nodata List</a></li>
              
        <li class='GET'><a href='#/nodata_info_by_id'>Get Nodata Info by id</a></li>
              
        <li class='DELETE'><a href='#/nodata_delete'>Delete Nodata</a></li>
              
        <li class='POST'><a href='#/nodata_create'>Create Nodata</a></li>
      
    
    </ul>
  </li>

  <li><h2>Plugin</h2>
    <ul>
    
              
        <li class=''><a href='#'></a></li>
      
    
              
        <li class='GET'><a href='#/plugin_info_by_id'>Get Plugin List of HostGroup</a></li>
              
        <li class='DELETE'><a href='#/plugin_delete'>Delete Plugin</a></li>
              
        <li class='POST'><a href='#/plugin_create'>Create A Plugin of HostGroup</a></li>
      
    
    </ul>
  </li>

  <li><h2>Screen</h2>
    <ul>
    
              
        <li class=''><a href='#'></a></li>
      
    
              
        <li class='PUT'><a href='#/screen_update'>Update Screen</a></li>
              
        <li class='GET'><a href='#/screen_get_by_id'>Get Screen by id</a></li>
              
        <li class='GET'><a href='#/screen_get_all'>Get Screen List</a></li>
              
        <li class='DELETE'><a href='#/screen_delete'>Delete Screen by id</a></li>
              
        <li class='POST'><a href='#/screen_create'>Create Screen</a></li>
              
        <li class='PUT'><a href='#/screen_clone'>Clone Screen & graphs of this Screen</a></li>
      
    
    </ul>
  </li>

  <li><h2>Screen_Graph</h2>
    <ul>
    
              
        <li class=''><a href='#'></a></li>
      
    
              
        <li class='PUT'><a href='#/screen_graph_update'>Update Graph by id</a></li>
              
        <li class='GET'><a href='#/screen_graph_get_by_id'>Get graph by id</a></li>
              
        <li class='DELETE'><a href='#/screen_graph_delete_by_id'>Delete graph by id</a></li>
              
        <li class='POST'><a href='#/screen_graph_create_with_new_screen'>Create a new screen and bind graph</a></li>
              
        <li class='POST'><a href='#/screen_graph_create'>Create a graph and bind to exist screen</a></li>
              
        <li class='POST'><a href='#/screen_graph_clone'>Clone Graph by ID</a></li>
      
    
    </ul>
  </li>

  <li><h2>Metric</h2>
    <ul>
    
              
        <li class=''><a href='#'></a></li>
      
    
              
        <li class='GET'><a href='#/metric_tmplist'>Get Metric List</a></li>
      
    
    </ul>
  </li>

  <li><h2>Strategy</h2>
    <ul>
    
              
        <li class=''><a href='#'></a></li>
      
    
              
        <li class='PUT'><a href='#/strategy_update'>Update Strategy</a></li>
              
        <li class='GET'><a href='#/strategy_list'>Get Strategy List</a></li>
              
        <li class='GET'><a href='#/strategy_info_by_id'>Get Strategy info by id</a></li>
              
        <li class='DELETE'><a href='#/strategy_delete'>Delete Strategy</a></li>
              
        <li class='POST'><a href='#/strategy_create'>Create Strategy</a></li>
      
    
    </ul>
  </li>

  <li><h2>Team</h2>
    <ul>
    
              
        <li class=''><a href='#'></a></li>
      
    
              
        <li class='PUT'><a href='#/team_update'>Team Update</a></li>
              
        <li class='GET'><a href='#/team_list'>Team List</a></li>
              
        <li class='GET'><a href='#/team_info_by_id'>Get Team Info By Id</a></li>
              
        <li class='DELETE'><a href='#/team_delete_by_id'>Delete Team By Id</a></li>
              
        <li class='POST'><a href='#/team_create'>Team Create</a></li>
      
    
    </ul>
  </li>

  <li><h2>Template</h2>
    <ul>
    
              
        <li class=''><a href='#'></a></li>
      
    
              
        <li class='PUT'><a href='#/tpl_update'>Update Template</a></li>
              
        <li class='GET'><a href='#/tpl_list'>Template List</a></li>
              
        <li class='GET'><a href='#/tpl_info_by_id'>Get Template Info by id</a></li>
              
        <li class='DELETE'><a href='#/tpl_delete'>Delete Template</a></li>
              
        <li class='POST'><a href='#/tpl_create'>Create Template</a></li>
              
        <li class='PUT'><a href='#/tpl_action_update'>Update Template Action</a></li>
              
        <li class='POST'><a href='#/tpl_action_create'>Create Template Action</a></li>
      
    
    </ul>
  </li>

  <li><h2>User</h2>
    <ul>
    
              
        <li class=''><a href='#'></a></li>
      
    
              
        <li class='PUT'><a href='#/user_update'>Update User</a></li>
              
        <li class='GET'><a href='#/user_logout'>Logout</a></li>
              
        <li class='POST'><a href='#/user_login'>Login</a></li>
              
        <li class='GET'><a href='#/user_list'>User List</a></li>
              
        <li class='GET'><a href='#/user_get_info_by_id'>Get User info by id</a></li>
              
        <li class='GET'><a href='#/user_current'>Current User info</a></li>
              
        <li class='POST'><a href='#/user_create'>Create User</a></li>
              
        <li class='PUT'><a href='#/user_change_password'>Change Password</a></li>
      
    
    </ul>
  </li>

  <li><h2>Alarm</h2>
    <ul>
    
              
        <li class=''><a href='#'></a></li>
      
    
              
        <li class='GET'><a href='#/alarm_events'>Get events list from one event case</a></li>
              
        <li class='GET'><a href='#/alarm_event_note_get'>Get status note of event case</a></li>
              
        <li class='POST'><a href='#/alarm_event_note_add'>Add status note to a event case</a></li>
              
        <li class='GET'><a href='#/alarm_event_cases'>Get event cases list</a></li>
      
    
    </ul>
  </li>

</ul>
</nav>

<section id='content'>

  <article class='GET'>
    <a name='/alarm_events' href='#/alarm_events'>
			<h2><code><b>GET</b> /api/v1/alarm/events</code> Get events list from one event case</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>支援GET &amp;&amp; POST</li>
  <li>GET: “/api/v1/alarm/events?startTime=1466956800&amp;endTime=1480521600”</li>
  <li>POST: <code>form post</code> &amp; <code>json body post</code> 皆可以使用</li>
  <li>用于储存每一次的告警历史, 触发及恢复时机点</li>
  <li>参数:</li>
  <li>startTime: 开始区间</li>
  <li>endTime: 结束区间</li>
  <li>status: 系统判定告警状态 [0, 1] 0表触发, 1表恢复</li>
  <li>event_id: 某一单向告警id [拿取单笔告告警状态]</li>
  <li>limit: 设定笔数返回上线 [预设及最大上线值:50]</li>
  <li>page: 后端分页页数</li>
</ul>

<h3 id="request">Request</h3>

<p><code>{
 	startTime: 1466956800,
 	endTime: 1480521600,
 	status: 0,
 	event_id: "s_165_cef145900bf4e2a4a0db8b85762b9cdb",
 	limit: 50,
 	page: 1
}</code></p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>[
  {
    "id": 635166,
    "event_caseId": "s_165_cef145900bf4e2a4a0db8b85762b9cdb",
    "step": 0,
    "cond": "10.649350649350648 != 66",
    "status": 0,
    "timestamp": "2016-06-23T04:55:00+08:00"
  },
  {
    "id": 635149,
    "event_caseId": "s_165_cef145900bf4e2a4a0db8b85762b9cdb",
    "step": 0,
    "cond": "13.486005089058525 != 66",
    "status": 0,
    "timestamp": "2016-06-23T04:50:00+08:00"
  }
]</code></p>

			<div> For more example, see the <a href=/doc/alarm.html>alarm.html</a></div>
    </section>
  </article>

  <article class='GET'>
    <a name='/alarm_event_note_get' href='#/alarm_event_note_get'>
			<h2><code><b>GET</b> /api/v1/alarm/event_note</code> Get status note of event case</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>使用者可以对告警留言并人工切换状态</li>
  <li>参数:</li>
  <li>startTime: 开始区间</li>
  <li>endTime: 结束区间</li>
  <li>status: 人工判定告警状态 [“in progress”, “unresolved”, “resolved”, “ignored”, “comment”]</li>
  <li>event_id: 某一单向告警id</li>
  <li>limit: 设定笔数返回上线 [预设及最大上线值:50]</li>
  <li>page: 后端分页页数</li>
</ul>

<h3 id="request">Request</h3>

<p><code>/api/v1/alarm/event_note?startTime=1466956800&amp;endTime=1480521600&amp;event_id=s_165_cef145900bf4e2a4a0db8b85762b9cdb&amp;status=ignored
</code></p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>[
  {
    "event_caseId": "s_165_cef145900bf4e2a4a0db8b85762b9cdb",
    "note": "test",
    "case_id": "",
    "status": "ignored",
    "timestamp": "2016-06-23T05:39:09+08:00",
    "user": "root"
  },
  {
    "event_caseId": "s_165_9d223f126e7ecb3477cd6806f1ee9656",
    "note": "Ignored by user",
    "case_id": "",
    "status": "ignored",
    "timestamp": "2016-06-23T05:38:56+08:00",
    "user": "root"
  }
]</code></p>

			<div> For more example, see the <a href=/doc/alarm.html>alarm.html</a></div>
    </section>
  </article>

  <article class='POST'>
    <a name='/alarm_event_note_add' href='#/alarm_event_note_add'>
			<h2><code><b>POST</b> /api/v1/alarm/event_note</code> Add status note to a event case</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>使用者可以对告警留言并人工切换状态</li>
  <li>参数:</li>
  <li>event_id: 某一单向告警id</li>
  <li>status: 人工判定告警状态 [“in progress”, “unresolved”, “resolved”, “ignored”, “comment”], comment之外的留言会改变event_case的process_status状态</li>
  <li>note: 对于告警留言</li>
  <li>case_id: 填入外部对应的系统公单号</li>
</ul>

<h3 id="request">Request</h3>

<p><code>{
	"event_id": "s_165_cef145900bf4e2a4a0db8b85762b9cdb",
	"note": "closed case",
	"case_id": "k00001",
	"status": "resolved"
}</code></p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{
  "id": "s_165_cef145900bf4e2a4a0db8b85762b9cdb",
  "message": "add note to s_165_cef145900bf4e2a4a0db8b85762b9cdb successfuled"
}</code></p>

			<div> For more example, see the <a href=/doc/alarm.html>alarm.html</a></div>
    </section>
  </article>

  <article class='GET'>
    <a name='/alarm_event_cases' href='#/alarm_event_cases'>
			<h2><code><b>GET</b> /api/v1/alarm/eventcases</code> Get event cases list</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>支援GET &amp;&amp; POST</li>
  <li>GET: “/api/v1/alarm/eventcases?startTime=1466956800&amp;endTime=1480521600”</li>
  <li>POST: <code>form post</code> &amp; <code>json body post</code> 皆可以使用</li>
  <li>一个告警设置只会产生一个eventcases, 每一次的告警历史会储存于events中</li>
  <li>参数:</li>
  <li>startTime: 开始区间</li>
  <li>endTime: 结束区间</li>
  <li>priority: 优先等级 [0 ~ 4]</li>
  <li>status: 系统判定告警状态 [“OK”, “PROBLEM”] *逗号分隔支援多笔查询</li>
  <li>process_status: 人工判定告警状态 [“in progress”, “unresolved”, “resolved”, “ignored”] *逗号分隔支援多笔查询</li>
  <li>metrics: 告警监控项搜寻 [regexp搜寻]</li>
  <li>event_id: 某一单向告警id [拿取单笔告告警状态]</li>
  <li>limit: 设定笔数返回上线, 如果搭配page一起使用表示单页的上线,如果page无设定表示单页返回上线. [预设及最大上线值 =&gt; 页面: 50 / 单页: 2000]</li>
  <li>page: 后端分页页数</li>
</ul>

<h3 id="request">Request</h3>

<p><code>{
 	startTime: 1466956800,
 	endTime: 1480521600,
 	priority: 0,
 	status: "OK,PROBLEM",
 	process_status: "unresolved",
 	metrics: "cpu.+",
 	event_id: "s_165_cef145900bf4e2a4a0db8b85762b9cdb",
 	limit: 50,
 	page: 1
}</code></p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>[
  {
    "id": "s_46_1ac45122afb893adc02fbd30154ac303",
    "endpoint": "agent4",
    "metric": "cpu.iowait",
    "func": "all(#3)",
    "cond": "48.33759590792839 &gt; 40",
    "note": "CPU I/O wait超过40",
    "step": 1,
    "current_step": 1,
    "priority": 1,
    "status": "PROBLEM",
    "timestamp": "2016-08-01T06:25:00+08:00",
    "update_at": "2016-08-01T06:25:00+08:00",
    "closed_at": null,
    "closed_note": "",
    "user_modified": 0,
    "tpl_creator": "root",
    "expression_id": 0,
    "strategy_id": 46,
    "template_id": 126,
    "process_note": 16907,
    "process_status": "ignored"
  },
  {
    "id": "s_50_6438ac68b30e2712fb8f00d894c46e21",
    "endpoint": "agent5",
    "metric": "cpu.idle",
    "func": "avg(#3)",
    "cond": "95.16331658291456 &lt;= 98",
    "note": "cpu空闲值报警",
    "step": 1,
    "current_step": 1,
    "priority": 3,
    "status": "PROBLEM",
    "timestamp": "2016-07-03T16:13:00+08:00",
    "update_at": "2016-07-03T16:13:00+08:00",
    "closed_at": null,
    "closed_note": "",
    "user_modified": 0,
    "tpl_creator": "root",
    "expression_id": 0,
    "strategy_id": 50,
    "template_id": 53,
    "process_note": 1181,
    "process_status": "ignored"
  }
]</code></p>

			<div> For more example, see the <a href=/doc/alarm.html>alarm.html</a></div>
    </section>
  </article>

  <article class='PUT'>
    <a name='/user_update' href='#/user_update'>
			<h2><code><b>PUT</b> /api/v1/user/update</code> Update User</h2></a>
    <section class='body'>
      <p>更新使用者
* <a href="#/authentication">Session</a> Required</p>

<h3 id="request">Request</h3>
<p><code>{
  "name": "test1",
  "cnname": "翱鶚Test",
  "email": "root123@cepave.com",
  "im": "44955834958",
  "phone": "99999999999",
  "qq": "904394234239"
}</code></p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{"message":"user info updated"}</code></p>

<p>For more example, see the <a href="/doc/user.html">user</a>.</p>

<p>For errors responses, see the <a href="#/response-status-codes">response status codes documentation</a>.</p>

			<div> For more example, see the <a href=/doc/user.html>user.html</a></div>
    </section>
  </article>

  <article class='GET'>
    <a name='/user_logout' href='#/user_logout'>
			<h2><code><b>GET</b> /api/v1/user/logout</code> Logout</h2></a>
    <section class='body'>
      <p>使用者登出
* <a href="#/authentication">Session</a> Required</p>

<h3 id="response">Response</h3>

<p>Sends back a collection of things.</p>

<p><code>Status: 200</code>
<code>{"message":"logout successful"}</code></p>

<p>For more example, see the <a href="/doc/user.html">user</a>.</p>

<p>For errors responses, see the <a href="#/response-status-codes">response status codes documentation</a>.</p>

			<div> For more example, see the <a href=/doc/user.html>user.html</a></div>
    </section>
  </article>

  <article class='POST'>
    <a name='/user_login' href='#/user_login'>
			<h2><code><b>POST</b> /api/v1/user/login</code> Login</h2></a>
    <section class='body'>
      <p>使用者登入</p>

<h3 id="request">Request</h3>
<p><code>{
  "name": "test2",
  "password": "test2"
}</code></p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{
  "sig": "9d791331c0ea11e690c5001500c6ca5a",
  "name": "test2",
  "admin": false
}</code></p>

<p>For more example, see the <a href="/doc/user.html">user</a>.</p>

<p>For errors responses, see the <a href="#/response-status-codes">response status codes documentation</a>.</p>

			<div> For more example, see the <a href=/doc/user.html>user.html</a></div>
    </section>
  </article>

  <article class='GET'>
    <a name='/user_list' href='#/user_list'>
			<h2><code><b>GET</b> /api/v1/user/users</code> User List</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
</ul>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>[
  {
    "id": 1,
    "name": "root",
    "cnname": "",
    "email": "",
    "phone": "",
    "im": "",
    "qq": "904394234239",
    "role": 2
  },
  {
    "id": 32,
    "name": "owltester",
    "cnname": "翱鶚",
    "email": "root123@cepave.com",
    "phone": "99999999999",
    "im": "44955834958",
    "qq": "904394234239",
    "role": 0
  }
]</code></p>

<p>For more example, see the <a href="/doc/user.html">user</a>.</p>

<p>For errors responses, see the <a href="#/response-status-codes">response status codes documentation</a>.</p>

			<div> For more example, see the <a href=/doc/user.html>user.html</a></div>
    </section>
  </article>

  <article class='GET'>
    <a name='/user_get_info_by_id' href='#/user_get_info_by_id'>
			<h2><code><b>GET</b> /api/v1/user/u/#{user_id}</code> Get User info by id</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li><code>Admin</code> usage</li>
  <li>ex. /api/v1/user/u/4</li>
</ul>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{
  "id": 4,
  "name": "userA",
  "cnname": "tear",
  "email": "",
  "phone": "",
  "im": "",
  "qq": "",
  "role": 0
}</code></p>

<p>For more example, see the <a href="/doc/user.html">user</a>.</p>

<p>For errors responses, see the <a href="#/response-status-codes">response status codes documentation</a>.</p>

			<div> For more example, see the <a href=/doc/user.html>user.html</a></div>
    </section>
  </article>

  <article class='GET'>
    <a name='/user_current' href='#/user_current'>
			<h2><code><b>GET</b> /api/v1/user/current</code> Current User info</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>当前使用者资讯</li>
</ul>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{
  "id": 2,
  "name": "root",
  "cnname": "",
  "email": "",
  "phone": "",
  "im": "",
  "qq": "",
  "role": 2
}</code></p>

<p>For more example, see the <a href="/doc/user.html">user</a>.</p>

<p>For errors responses, see the <a href="#/response-status-codes">response status codes documentation</a>.</p>

			<div> For more example, see the <a href=/doc/user.html>user.html</a></div>
    </section>
  </article>

  <article class='POST'>
    <a name='/user_create' href='#/user_create'>
			<h2><code><b>POST</b> /api/v1/user/create</code> Create User</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
</ul>

<h3 id="request">Request</h3>
<p><code>{"name": "test","password": "test", "email":"xxx@xxx.com", "cnname": "翱鹗"}</code></p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{
  "name": "owltester",
  "password": "mypassword",
  "cnname": "翱鹗",
  "email": "root123@cepave.com",
  "im": "44955834958",
  "phone": "99999999999",
  "qq": "904394234239"
}</code></p>

<p>For more example, see the <a href="/doc/user.html">user</a>.</p>

<p>For errors responses, see the <a href="#/response-status-codes">response status codes documentation</a>.</p>

			<div> For more example, see the <a href=/doc/user.html>user.html</a></div>
    </section>
  </article>

  <article class='PUT'>
    <a name='/user_change_password' href='#/user_change_password'>
			<h2><code><b>PUT</b> /api/v1/user/cgpasswd</code> Change Password</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
</ul>

<h3 id="request">Request</h3>
<p><code>{
  "new_password": "test1",
  "old_password": "test1"
}</code></p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{"message":"password updated!"}</code></p>

			<div> For more example, see the <a href=/doc/user.html>user.html</a></div>
    </section>
  </article>

  <article class='PUT'>
    <a name='/tpl_update' href='#/tpl_update'>
			<h2><code><b>PUT</b> /api/v1/template/</code> Update Template</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>parent_id: 继承现有Template</li>
</ul>

<h3 id="request">Request</h3>
<p><code>{
  "tpl_id": 225,
  "parent_id": 0,
  "name": "AtmpForTesting2"
}</code></p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{"message":"template updated"}</code></p>

			<div> For more example, see the <a href=/doc/template.html>template.html</a></div>
    </section>
  </article>

  <article class='GET'>
    <a name='/tpl_list' href='#/tpl_list'>
			<h2><code><b>GET</b> /api/v1/template/</code> Template List</h2></a>
    <section class='body'>
      <p>Template List
* <a href="#/authentication">Session</a> Required</p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>[
  {
    "id": 1,
    "tpl_name": "cpu.board",
    "parent_id": 0,
    "action_id": 5,
    "create_user": "usera"
  },
  {
    "id": 2,
    "tpl_name": "traffic checking",
    "parent_id": 0,
    "action_id": 6,
    "create_user": "userb"
  },
  {
    "id": 3,
    "tpl_name": "cputest",
    "parent_id": 0,
    "action_id": 7,
    "create_user": "userc"
  },
  {
    "id": 5,
    "tpl_name": "all metrics base",
    "parent_id": 0,
    "action_id": 12,
    "create_user": "root"
  }
]</code></p>

			<div> For more example, see the <a href=/doc/template.html>template.html</a></div>
    </section>
  </article>

  <article class='GET'>
    <a name='/tpl_info_by_id' href='#/tpl_info_by_id'>
			<h2><code><b>GET</b> /api/v1/template/#{template_id}</code> Get Template Info by id</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>ex. /api/v1/template/178</li>
</ul>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{
  "action": {
    "id": 141,
    "uic": "admin,mm1",
    "url": "",
    "callback": 0,
    "before_callback_sms": 0,
    "before_callback_mail": 0,
    "after_callback_sms": 0,
    "after_callback_mail": 0
  },
  "stratges": [
    {
      "id": 686,
      "metric": "xxx.check",
      "tags": "name=xxx",
      "max_step": 3,
      "priority": 2,
      "func": "all(#2)",
      "op": "&lt;",
      "right_value": "1",
      "note": "xxx服务异常",
      "run_begin": "",
      "run_end": "",
      "tpl_id": 178
    },
    {
      "id": 687,
      "metric": "xxx.sync",
      "tags": "",
      "max_step": 3,
      "priority": 2,
      "func": "all(#3)",
      "op": "!=",
      "right_value": "0",
      "note": "XXX同步异常",
      "run_begin": "",
      "run_end": "",
      "tpl_id": 178
    },
    {
      "id": 688,
      "metric": "bbb.check.mq",
      "tags": "",
      "max_step": 3,
      "priority": 2,
      "func": "all(#3)",
      "op": "==",
      "right_value": "1",
      "note": "bbb连接MQ异常",
      "run_begin": "",
      "run_end": "",
      "tpl_id": 178
    },
    {
      "id": 793,
      "metric": "aaa.proc.num",
      "tags": "",
      "max_step": 3,
      "priority": 2,
      "func": "all(#3)",
      "op": "==",
      "right_value": "1",
      "note": "aaaa 进程大于5",
      "run_begin": "",
      "run_end": "",
      "tpl_id": 178
    }
  ],
  "template": {
    "id": 178,
    "tpl_name": "TemplateA",
    "parent_id": 0,
    "action_id": 141,
    "create_user": "root"
  }
}</code></p>

			<div> For more example, see the <a href=/doc/template.html>template.html</a></div>
    </section>
  </article>

  <article class='DELETE'>
    <a name='/tpl_delete' href='#/tpl_delete'>
			<h2><code><b>DELETE</b> /api/v1/template/#{template_id}</code> Delete Template</h2></a>
    <section class='body'>
      <p>Delete a Template
* <a href="#/authentication">Session</a> Required
* ex. /api/v1/template/225</p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{"message":"template 225 has been deleted"}</code></p>

			<div> For more example, see the <a href=/doc/template.html>template.html</a></div>
    </section>
  </article>

  <article class='POST'>
    <a name='/tpl_create' href='#/tpl_create'>
			<h2><code><b>POST</b> /api/v1/template/</code> Create Template</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>parent_id: 继承现有Template</li>
</ul>

<h3 id="request">Request</h3>
<p><code>{"parent_id":0,"name":"AtmpForTesting"}</code></p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{"message":"template created"}</code></p>

			<div> For more example, see the <a href=/doc/template.html>template.html</a></div>
    </section>
  </article>

  <article class='PUT'>
    <a name='/tpl_action_update' href='#/tpl_action_update'>
			<h2><code><b>PUT</b> /api/v1/template/action</code> Update Template Action</h2></a>
    <section class='body'>
      <p>Update Action
* <a href="#/authentication">Session</a> Required
* params:
  * url: callback url
  * uic: 需要通知的使用者群组(name)
  * callback: enable/disable</p>

<h3 id="request">Request</h3>
<p><code>{
  "url": "",
  "uic": "test,tt2,tt3",
  "id": 175,
  "callback": 1,
  "before_callback_sms": 0,
  "before_callback_mail": 0,
  "after_callback_sms": 0,
  "after_callback_mail": 0
}</code></p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{"message":"action is updated, row affected: 1"}</code></p>

			<div> For more example, see the <a href=/doc/template.html>template.html</a></div>
    </section>
  </article>

  <article class='POST'>
    <a name='/tpl_action_create' href='#/tpl_action_create'>
			<h2><code><b>POST</b> /api/v1/template/action</code> Create Template Action</h2></a>
    <section class='body'>
      <p>Create Action to a Template
* <a href="#/authentication">Session</a> Required
* params:
  * url: callback url
  * uic: 需要通知的使用者群组(name)
  * callback: enable/disable</p>

<h3 id="request">Request</h3>
<p><code>{
  "url": "",
  "uic": "test,tt2",
  "tpl_id": 225,
  "callback": 1,
  "before_callback_sms": 0,
  "before_callback_mail": 0,
  "after_callback_sms": 0,
  "after_callback_mail": 0
}</code></p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{"message":"template created"}</code></p>

			<div> For more example, see the <a href=/doc/template.html>template.html</a></div>
    </section>
  </article>

  <article class='PUT'>
    <a name='/team_update' href='#/team_update'>
			<h2><code><b>PUT</b> /api/v1/team</code> Team Update</h2></a>
    <section class='body'>
      <p>更新使用者群組
* <a href="#/authentication">Session</a> Required
* users: 属於该群组的user id list
* resume: team的描述
* 除Admin外, 使用者只能更新自己创建的team</p>

<h3 id="request">Request</h3>
<p><code>{
  "team_id": 107,
  "resume": "i'm descript update",
  "users": [4,5,6,7]
}</code></p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{"message":"team updated!"}</code></p>

			<div> For more example, see the <a href=/doc/team.html>team.html</a></div>
    </section>
  </article>

  <article class='GET'>
    <a name='/team_list' href='#/team_list'>
			<h2><code><b>GET</b> /api/v1/team</code> Team List</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>q: 使用 regex 查询字符, 查询team name
    <ul>
      <li>option 参数</li>
    </ul>
  </li>
</ul>

<h3 id="request">Request</h3>
<p><code>q=a.+</code></p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>[
  {
    "id": 1,
    "name": "a",
    "resume": "",
    "creator": 1
  },
  {
    "id": 5,
    "name": "atestteam",
    "resume": "i'm test",
    "creator": 16
  },
  {
    "id": 107,
    "name": "ateamname",
    "resume": "i'm descript",
    "creator": 1
  }
]</code></p>

			<div> For more example, see the <a href=/doc/team.html>team.html</a></div>
    </section>
  </article>

  <article class='GET'>
    <a name='/team_info_by_id' href='#/team_info_by_id'>
			<h2><code><b>GET</b> /api/v1/team/#{team_id}</code> Get Team Info By Id</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>ex. /api/v1/team/107</li>
</ul>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{
  "id": 107,
  "name": "ateamname",
  "resume": "i'm descript",
  "creator": 1,
  "users": [
    {
      "id": 4,
      "name": "test1",
      "cnname": "翱鶚Test",
      "email": "root123@cepave.com",
      "phone": "99999999999",
      "im": "44955834958",
      "qq": "904394234239",
      "role": 0
    },
    {
      "id": 7,
      "name": "cepave1",
      "cnname": "",
      "email": "",
      "phone": "",
      "im": "",
      "qq": "904394234239",
      "role": 0
    }
  ]
}</code></p>

			<div> For more example, see the <a href=/doc/team.html>team.html</a></div>
    </section>
  </article>

  <article class='DELETE'>
    <a name='/team_delete_by_id' href='#/team_delete_by_id'>
			<h2><code><b>DELETE</b> /api/v1/team/#{team_id}</code> Delete Team By Id</h2></a>
    <section class='body'>
      <p>新增使用者群組
* <a href="#/authentication">Session</a> Required
* ex. /api/v1/team/107
* 除Admin外, 使用者只能更新自己创建的team</p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{"message":"team 107 is deleted. Affect row: 1 / refer delete: 4"}</code></p>

			<div> For more example, see the <a href=/doc/team.html>team.html</a></div>
    </section>
  </article>

  <article class='POST'>
    <a name='/team_create' href='#/team_create'>
			<h2><code><b>POST</b> /api/v1/team</code> Team Create</h2></a>
    <section class='body'>
      <p>新增使用者群組
* <a href="#/authentication">Session</a> Required
* users: 属於该群组的user id list
* resume: team的描述</p>

<h3 id="request">Request</h3>
<p><code>{"team_name": "ateamname","resume": "i'm descript", "users": [1]}</code></p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{"message":"team created! Afftect row: 1, Affect refer: 1"}</code></p>

			<div> For more example, see the <a href=/doc/team.html>team.html</a></div>
    </section>
  </article>

  <article class='PUT'>
    <a name='/strategy_update' href='#/strategy_update'>
			<h2><code><b>PUT</b> /api/v1/strategy</code> Update Strategy</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
</ul>

<h3 id="request">Request</h3>
<p><code>{
  "tags": "",
  "run_end": "",
  "run_begin": "",
  "right_value": "1",
  "priority": 2,
  "op": "==",
  "note": "this is a test",
  "metric": "agent.alive",
  "max_step": 3,
  "id": 904,
  "func": "all(#3)"
}</code></p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{"message":"stragtegy:904 has been updated"}</code></p>

			<div> For more example, see the <a href=/doc/template.html>template.html</a></div>
    </section>
  </article>

  <article class='GET'>
    <a name='/strategy_list' href='#/strategy_list'>
			<h2><code><b>GET</b> /api/v1/strategy</code> Get Strategy List</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
</ul>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>[
  {
    "id": 893,
    "metric": "process.num",
    "tags": "name=redis",
    "max_step": 3,
    "priority": 2,
    "func": "all(#2)",
    "op": "&lt;",
    "right_value": "1",
    "note": "Redis异常",
    "run_begin": "",
    "run_end": "",
    "tpl_id": 221
  },
  {
    "id": 894,
    "metric": "process.num",
    "tags": "name=smtp",
    "max_step": 3,
    "priority": 2,
    "func": "all(#3)",
    "op": "&lt;",
    "right_value": "1",
    "note": "Smtp异常",
    "run_begin": "",
    "run_end": "",
    "tpl_id": 221
  },
  {
    "id": 895,
    "metric": "process.num",
    "tags": "cmdline=logger",
    "max_step": 3,
    "priority": 3,
    "func": "all(#5)",
    "op": "&lt;",
    "right_value": "2",
    "note": "logger异常",
    "run_begin": "",
    "run_end": "",
    "tpl_id": 221
  },
]</code></p>

			<div> For more example, see the <a href=/doc/template.html>template.html</a></div>
    </section>
  </article>

  <article class='GET'>
    <a name='/strategy_info_by_id' href='#/strategy_info_by_id'>
			<h2><code><b>GET</b> /api/v1/strategy/#{strategy_id}</code> Get Strategy info by id</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>ex. /api/v1/strategy/904</li>
</ul>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{
  "id": 904,
  "metric": "agent.alive",
  "tags": "",
  "max_step": 3,
  "priority": 1,
  "func": "all(#3)",
  "op": "==",
  "right_value": "1",
  "note": "this is a test",
  "run_begin": "00:00",
  "run_end": "24:00",
  "tpl_id": 221
}</code></p>

			<div> For more example, see the <a href=/doc/template.html>template.html</a></div>
    </section>
  </article>

  <article class='DELETE'>
    <a name='/strategy_delete' href='#/strategy_delete'>
			<h2><code><b>DELETE</b> /api/v1/strategy/#{strategy_id}</code> Delete Strategy</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>ex. /api/v1/strategy/904</li>
</ul>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{"message":"strategy:904 has been deleted"}</code></p>

			<div> For more example, see the <a href=/doc/template.html>template.html</a></div>
    </section>
  </article>

  <article class='POST'>
    <a name='/strategy_create' href='#/strategy_create'>
			<h2><code><b>POST</b> /api/v1/strategy</code> Create Strategy</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
</ul>

<h3 id="request">Request</h3>
<p><code>{
  "tpl_id": 221,
  "tags": "",
  "run_end": "24:00",
  "run_begin": "00:00",
  "right_value": "1",
  "priority": 1,
  "op": "==",
  "note": "this is a test",
  "metric": "agent.alive",
  "max_step": 3,
  "func": "all(#3)"
}</code></p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{"message":"stragtegy created"}</code></p>

			<div> For more example, see the <a href=/doc/template.html>template.html</a></div>
    </section>
  </article>

  <article class='GET'>
    <a name='/metric_tmplist' href='#/metric_tmplist'>
			<h2><code><b>GET</b> /api/v1/metric/tmplist</code> Get Metric List</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>Metric Suggestion for create strategy</li>
  <li>base on <code>./data/metric</code> file</li>
</ul>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>[
  "cpu.busy",
  "cpu.cnt",
  "cpu.guest",
  "cpu.idle",
  "cpu.iowait",
  "cpu.irq",
  "cpu.nice",
  "cpu.softirq",
  "cpu.steal",
  "cpu.system",
  "cpu.user",
  "df.bytes.free",
  "df.bytes.free.percent"
  ....
]</code></p>

			<div> For more example, see the <a href=/doc/template.html>template.html</a></div>
    </section>
  </article>

  <article class='PUT'>
    <a name='/screen_graph_update' href='#/screen_graph_update'>
			<h2><code><b>PUT</b> /api/v1/dashboard/graph/:id</code> Update Graph by id</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>id
    <ul>
      <li>graph id</li>
      <li>int64 [required] - in url path</li>
    </ul>
  </li>
  <li>title
    <ul>
      <li>string</li>
      <li>name of graph</li>
    </ul>
  </li>
  <li>endpoints
    <ul>
      <li>[]string</li>
    </ul>
  </li>
  <li>counters
    <ul>
      <li>[]string</li>
    </ul>
  </li>
  <li>timespan
    <ul>
      <li>int64</li>
      <li>时间区段 (秒)
        <ul>
          <li>default 3600</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>graph_type
    <ul>
      <li>string</li>
      <li>视角: h (endpoint view), k (counter view), a (combo view)</li>
      <li>accept values:
        <ul>
          <li>h</li>
          <li>a</li>
          <li>k</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>method
    <ul>
      <li>string</li>
      <li>accept values:
        <ul>
          <li>‘sum’</li>
          <li>’’ (空值)</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>position
    <ul>
      <li>int64</li>
      <li>排序
        <ul>
          <li>预设值為0</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>falcon_tags
    <ul>
      <li>string</li>
      <li>owl-light not this concept, keep empty. (open-falcon only)</li>
    </ul>
  </li>
</ul>

<h3 id="request">Request</h3>

<pre><code>/api/v1/dashboard/graph/4246
{
  "title": "testtt",
  "screen_id": 955,
  "endpoints": ["a1","a2"],
  "counters": ["c1","c2"],
  "timespan":9999,
  "graph_type":"a",
  "method": "sum",
  "graph_type": "h",
  "position": 22,
  "falcon_tags": "a=1,b=2"
}
</code></pre>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>
{
  "graph_id": 4626,
  "title": "testtt",
  "screen_id": 955,
  "endpoints": [
    "a1",
    "a2"
  ],
  "counters": [
    "c1",
    "c2"
  ],
  "timespan": 9999,
  "graph_type": "a",
  "method": "sum",
  "position": 22,
  "falcon_tags": "a=1,b=2"
}
</code></p>

			<div> For more example, see the <a href=/doc/></a></div>
    </section>
  </article>

  <article class='GET'>
    <a name='/screen_graph_get_by_id' href='#/screen_graph_get_by_id'>
			<h2><code><b>GET</b> /api/v1/dashboard/graph/:id</code> Get graph by id</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
</ul>

<h3 id="request">Request</h3>

<pre><code>/api/v1/dashboard/graph/4913
</code></pre>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>
{
  "counters": [
    "c1",
    "c2"
  ],
  "endpoints": [
    "a",
    "b"
  ],
  "falcon_tags": "",
  "graph_id": 4913,
  "graph_type": "h",
  "method": "",
  "position": 0,
  "screen_id": 1270,
  "timespan": 3600,
  "title": "no exist"
}
</code></p>

			<div> For more example, see the <a href=/doc/owl_scren_graph.html>owl_scren_graph.html</a></div>
    </section>
  </article>

  <article class='DELETE'>
    <a name='/screen_graph_delete_by_id' href='#/screen_graph_delete_by_id'>
			<h2><code><b>DELETE</b> /api/v1/dashboard/graph/:id</code> Delete graph by id</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
</ul>

<h3 id="request">Request</h3>

<pre><code>/api/v1/dashboard/graph/4913
</code></pre>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>
{"id":4913}
</code>
* return created graph id</p>

			<div> For more example, see the <a href=/doc/owl_scren_graph.html>owl_scren_graph.html</a></div>
    </section>
  </article>

  <article class='POST'>
    <a name='/screen_graph_create_with_new_screen' href='#/screen_graph_create_with_new_screen'>
			<h2><code><b>POST</b> /api/v1/dashboard/graph_new_screen</code> Create a new screen and bind graph</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>screen_name
    <ul>
      <li>string [required]</li>
    </ul>
  </li>
  <li>title
    <ul>
      <li>string [required]</li>
      <li>name of graph</li>
    </ul>
  </li>
  <li>endpoints
    <ul>
      <li>[]string [required]</li>
    </ul>
  </li>
  <li>counters
    <ul>
      <li>[]string [required]</li>
    </ul>
  </li>
  <li>timespan
    <ul>
      <li>int64</li>
      <li>时间区段 (秒)
        <ul>
          <li>default 3600</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>graph_type
    <ul>
      <li>string [required]</li>
      <li>视角: h (endpoint view), k (counter view), a (combo view)</li>
      <li>accept values:
        <ul>
          <li>h</li>
          <li>a</li>
          <li>k</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>method
    <ul>
      <li>string</li>
      <li>accept values:
        <ul>
          <li>SUM  </li>
          <li>空值</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>position
    <ul>
      <li>int64</li>
      <li>排序
        <ul>
          <li>预设值為0</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>falcon_tags
    <ul>
      <li>string</li>
      <li>owl-light not this concept, keep empty. (open-falcon only)</li>
    </ul>
  </li>
</ul>

<h3 id="request">Request</h3>

<pre><code>{
  "title": "graphtitle",
  "screen_name": "newscreen",
  "endpoints": ["a","b"],
  "counters":["c1","c2"],
  "graph_type": 'h'
}
</code></pre>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>
{"id":4913, "screen_id": }
</code>
* return created graph id</p>

			<div> For more example, see the <a href=/doc/owl_scren_graph.html>owl_scren_graph.html</a></div>
    </section>
  </article>

  <article class='POST'>
    <a name='/screen_graph_create' href='#/screen_graph_create'>
			<h2><code><b>POST</b> /api/v1/dashboard/graph</code> Create a graph and bind to exist screen</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>screen_id
    <ul>
      <li>int64 [required]</li>
    </ul>
  </li>
  <li>title
    <ul>
      <li>string [required]</li>
      <li>name of graph</li>
    </ul>
  </li>
  <li>endpoints
    <ul>
      <li>[]string [required]</li>
    </ul>
  </li>
  <li>counters
    <ul>
      <li>[]string [required]</li>
    </ul>
  </li>
  <li>timespan
    <ul>
      <li>int64</li>
      <li>时间区段 (秒)
        <ul>
          <li>default 3600</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>graph_type
    <ul>
      <li>string [required]</li>
      <li>视角: h (endpoint view), k (counter view), a (combo view)</li>
      <li>accept values:
        <ul>
          <li>h</li>
          <li>a</li>
          <li>k</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>method
    <ul>
      <li>string</li>
      <li>accept values:
        <ul>
          <li>‘sum’  </li>
          <li>’’ (空值)</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>position
    <ul>
      <li>int64</li>
      <li>排序
        <ul>
          <li>预设值為0</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>falcon_tags
    <ul>
      <li>string</li>
      <li>owl-light not this concept, keep empty. (open-falcon only)</li>
    </ul>
  </li>
</ul>

<h3 id="request">Request</h3>

<pre><code>{
  "title": "imtitle",
  "screen_id": 1266,
  "endpoints": ["a-host","b-host"],
  "counters": ["c.1","c.2"],
  "graph_type": 'h'
}
</code></pre>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>
{"id":4912}
</code>
* return created graph id</p>

			<div> For more example, see the <a href=/doc/owl_scren_graph.html>owl_scren_graph.html</a></div>
    </section>
  </article>

  <article class='POST'>
    <a name='/screen_graph_clone' href='#/screen_graph_clone'>
			<h2><code><b>POST</b> /api/v1/dashboard/graph_clone</code> Clone Graph by ID</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>id
    <ul>
      <li>graph id</li>
      <li>int64 [required]</li>
    </ul>
  </li>
</ul>

<h3 id="request">Request</h3>

<pre><code>{"id": 4626}
</code></pre>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>
{
  "id": 4993,
  "title": "CPU_copy",
  "hosts": "agent227|agent228|agent230",
  "counters": "cpu.guest|cpu.idle|cpu.iowait|cpu.irq|cpu.nice|cpu.softirq|cpu.steal|cpu.switches|cpu.system|cpu.user",
  "screen_id": 955,
  "timespan": 3600,
  "graph_type": "h",
  "method": "sum",
  "position": 4626,
  "falcon_tags": "",
  "creator": "root"
}
</code></p>

			<div> For more example, see the <a href=/doc/></a></div>
    </section>
  </article>

  <article class='PUT'>
    <a name='/screen_update' href='#/screen_update'>
			<h2><code><b>PUT</b> /api/v1/dashboard/screens</code> Update Screen</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>id
    <ul>
      <li>required</li>
    </ul>
  </li>
  <li>name
    <ul>
      <li>required</li>
      <li>name must be unique, if exist will response error message to client</li>
    </ul>
  </li>
</ul>

<h3 id="request">Request</h3>

<pre><code>{"name":"updaredscreen","id":1268}
</code></pre>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>
{"message":"ok"}
</code></p>

			<div> For more example, see the <a href=/doc/owl_screen.html>owl_screen.html</a></div>
    </section>
  </article>

  <article class='GET'>
    <a name='/screen_get_by_id' href='#/screen_get_by_id'>
			<h2><code><b>GET</b> /api/v1/dashboard/screen/:id</code> Get Screen by id</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
</ul>

<h3 id="request">Request</h3>

<pre><code>/api/v1/dashboard/screen/1268
</code></pre>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>
{
  "graphs": [
    {
      "counters": [
        "c1",
        "c2"
      ],
      "endpoints": [
        "a",
        "b"
      ],
      "falcon_tags": "",
      "graph_id": 4917,
      "graph_type": "h",
      "method": "",
      "position": 0,
      "screen_id": 1274,
      "timespan": 3600,
      "title": "grep_demo"
    }
  ],
  "scren": {
    "id": 1274,
    "pid": 0,
    "name": "screen_test2"
  }
}
</code></p>

			<div> For more example, see the <a href=/doc/owl_screen.html>owl_screen.html</a></div>
    </section>
  </article>

  <article class='GET'>
    <a name='/screen_get_all' href='#/screen_get_all'>
			<h2><code><b>GET</b> /api/v1/dashboard/screens</code> Get Screen List</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>limit</li>
  <li>page</li>
  <li>desc
    <ul>
      <li>value: true or false</li>
      <li>Order by desc on id</li>
    </ul>
  </li>
  <li>key_word
    <ul>
      <li>search key words of screen name</li>
    </ul>
  </li>
</ul>

<h3 id="request">Request</h3>

<pre><code>/api/v1/screens?limit=10&amp;page=1&amp;desc=true&amp;key_word=test
</code></pre>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>
{
  "current_page": 1,
  "data": [
    {
      "graph_names": [],
      "id": 962,
      "pid": 0,
      "name": "FCM",
      "creator": "root"
    },
    {
      "graph_names": [
        "net.if.total.bytes",
        "net.if.total.bytes"
      ],
      "id": 965,
      "pid": 962,
      "name": "net.if.total.bytes",
      "creator": "root"
    },
    {
      "graph_names": [],
      "id": 967,
      "pid": 0,
      "name": "c01.i36",
      "creator": "root"
    },
    {
      "graph_names": [
        "cpu",
        "mysql_test",
        "cpu-1"
      ],
      "id": 968,
      "pid": 967,
      "name": "cpu",
      "creator": "root"
    },
    {
      "graph_names": [
        "cpu"
      ],
      "id": 969,
      "pid": 962,
      "name": "cpu",
      "creator": "root"
    },
    {
      "graph_names": [
        "net.if.total.bytes"
      ],
      "id": 970,
      "pid": 967,
      "name": "net.if.total.bytes",
      "creator": "root"
    },
    {
      "graph_names": [
        "mem"
      ],
      "id": 971,
      "pid": 967,
      "name": "mem",
      "creator": "root"
    },
    {
      "graph_names": [
        "mem"
      ],
      "id": 972,
      "pid": 962,
      "name": "mem",
      "creator": "root"
    },
    {
      "graph_names": [
        "cpu.load"
      ],
      "id": 973,
      "pid": 962,
      "name": "cpu.load",
      "creator": "root"
    },
    {
      "graph_names": [
        "cpu.load"
      ],
      "id": 975,
      "pid": 967,
      "name": "cpu.load",
      "creator": "root"
    }
  ],
  "desc_order": false,
  "key_word": "",
  "order_by": "id",
  "totall_count": 123,
  "totall_page": 13
}
</code></p>

			<div> For more example, see the <a href=/doc/owl_screen.html>owl_screen.html</a></div>
    </section>
  </article>

  <article class='DELETE'>
    <a name='/screen_delete' href='#/screen_delete'>
			<h2><code><b>DELETE</b> /api/v1/dashboard/screen/:id</code> Delete Screen by id</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
</ul>

<h3 id="request">Request</h3>

<pre><code>/api/v1/screen/1268
</code></pre>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>
{
  "deleted_rows": 1,
  "deleted_graph_ids": [
    4901
  ],
  "message": "ok"
}
</code></p>

			<div> For more example, see the <a href=/doc/owl_screen.html>owl_screen.html</a></div>
    </section>
  </article>

  <article class='POST'>
    <a name='/screen_create' href='#/screen_create'>
			<h2><code><b>POST</b> /api/v1/dashboard/screen</code> Create Screen</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>name
    <ul>
      <li>required</li>
      <li>name must be unique, if exist will response error message to client</li>
    </ul>
  </li>
  <li>pid
    <ul>
      <li>option</li>
      <li>parent id [Inherit]</li>
      <li>owl-light don’t have this concept. this only for open-falcon</li>
    </ul>
  </li>
</ul>

<h3 id="request">Request</h3>

<pre><code>{"pid":0,"name":"screen_test2"}
</code></pre>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>
{
  "id":1268,
  "pid":0,
  "name":"screen_test2",
  "creator": "root"
}
</code></p>

			<div> For more example, see the <a href=/doc/owl_screen.html>owl_screen.html</a></div>
    </section>
  </article>

  <article class='PUT'>
    <a name='/screen_clone' href='#/screen_clone'>
			<h2><code><b>PUT</b> /api/v1/dashboard/screen_clone</code> Clone Screen & graphs of this Screen</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>id
    <ul>
      <li>screen_id [copy base on]</li>
      <li>required</li>
    </ul>
  </li>
</ul>

<h3 id="request">Request</h3>

<pre><code>{"id": 965}
</code></pre>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>
{
  "graph_names": [
    "net.if.total.bytes",
    "net.if.total.bytes"
  ],
  "id": 1276,
  "pid": 0,
  "name": "net.if.total.bytes_copy",
  "creator": "root"
}
</code></p>

			<div> For more example, see the <a href=/doc/></a></div>
    </section>
  </article>

  <article class='GET'>
    <a name='/plugin_info_by_id' href='#/plugin_info_by_id'>
			<h2><code><b>GET</b> /api/v1/hostgroup/#{hostgroup_id}/plugins</code> Get Plugin List of HostGroup</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>ex. /api/v1/hostgroup/343/plugins</li>
  <li>grp_id: hostgroup id</li>
</ul>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>[
  {
    "id": 1499,
    "grp_id": 343,
    "dir": "testpath",
    "create_user": "root"
  },
  {
    "id": 1501,
    "grp_id": 343,
    "dir": "testpath",
    "create_user": "root"
  }
]</code></p>

			<div> For more example, see the <a href=/doc/plugin.html>plugin.html</a></div>
    </section>
  </article>

  <article class='DELETE'>
    <a name='/plugin_delete' href='#/plugin_delete'>
			<h2><code><b>DELETE</b> /api/v1/plugin/#{plugin_id}</code> Delete Plugin</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>ex. /api/v1/plugin/1501</li>
</ul>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{"message":"plugin:1501 is deleted"}</code></p>

			<div> For more example, see the <a href=/doc/plugin.html>plugin.html</a></div>
    </section>
  </article>

  <article class='POST'>
    <a name='/plugin_create' href='#/plugin_create'>
			<h2><code><b>POST</b> /api/v1/plugin</code> Create A Plugin of HostGroup</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>grp_id: hostgroup id</li>
</ul>

<h3 id="request">Request</h3>

<p><code>{
  "hostgroup_id": 343,
  "dir_path": "testpath"
}</code></p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{
  "id": 1501,
  "grp_id": 343,
  "dir": "testpath",
  "create_user": "root"
}</code></p>

			<div> For more example, see the <a href=/doc/plugin.html>plugin.html</a></div>
    </section>
  </article>

  <article class='PUT'>
    <a name='/nodata_update' href='#/nodata_update'>
			<h2><code><b>PUT</b> /api/v1/nodata/</code> Update Nodata</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
</ul>

<h3 id="request">Request</h3>

<p><code>{
  "tags": "",
  "step": 60,
  "obj_type": "host",
  "obj": "docker-agent",
  "mock": -2,
  "metric": "test.metric",
  "id": 4,
  "dstype": "GAUGE"
}</code></p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{
  "id": 0,
  "name": "",
  "obj": "docker-agent",
  "obj_type": "host",
  "metric": "test.metric",
  "tags": "",
  "dstype": "GAUGE",
  "step": 60,
  "mock": -2,
  "creator": ""
}</code></p>

			<div> For more example, see the <a href=/doc/nodata.html>nodata.html</a></div>
    </section>
  </article>

  <article class='GET'>
    <a name='/nodata_list' href='#/nodata_list'>
			<h2><code><b>GET</b> /api/v1/nodata</code> Nodata List</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
</ul>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>[
  {
    "id": 2,
    "name": "owl_nodate",
    "obj": "docker-agent",
    "obj_type": "host",
    "metric": "test.metric",
    "tags": "",
    "dstype": "GAUGE",
    "step": 60,
    "mock": -2,
    "creator": "root"
  }
]</code></p>

			<div> For more example, see the <a href=/doc/nodata.html>nodata.html</a></div>
    </section>
  </article>

  <article class='GET'>
    <a name='/nodata_info_by_id' href='#/nodata_info_by_id'>
			<h2><code><b>GET</b> /api/v1/nodata/#{nodata_id}</code> Get Nodata Info by id</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>ex. /api/v1/nodata/2</li>
</ul>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{
  "id": 2,
  "name": "owl_nodate",
  "obj": "docker-agent",
  "obj_type": "host",
  "metric": "test.metric",
  "tags": "",
  "dstype": "GAUGE",
  "step": 60,
  "mock": -2,
  "creator": "root"
}</code></p>

			<div> For more example, see the <a href=/doc/nodata.html>nodata.html</a></div>
    </section>
  </article>

  <article class='DELETE'>
    <a name='/nodata_delete' href='#/nodata_delete'>
			<h2><code><b>DELETE</b> /api/v1/nodata/#{nodata_id}</code> Delete Nodata</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>ex. /api/v1/nodata/4</li>
</ul>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{"message":"mockcfg:4 is deleted"}</code></p>

			<div> For more example, see the <a href=/doc/nodata.html>nodata.html</a></div>
    </section>
  </article>

  <article class='POST'>
    <a name='/nodata_create' href='#/nodata_create'>
			<h2><code><b>POST</b> /api/v1/nodata/</code> Create Nodata</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
</ul>

<h3 id="request">Request</h3>

<p><code>{
  "tags": "",
  "step": 60,
  "obj_type": "host",
  "obj": "docker-agent",
  "name": "testnodata",
  "mock": -1,
  "metric": "test.metric",
  "dstype": "GAUGE"
}</code></p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{
  "id": 4,
  "name": "testnodata",
  "obj": "docker-agent",
  "obj_type": "host",
  "metric": "test.metric",
  "tags": "",
  "dstype": "GAUGE",
  "step": 60,
  "mock": -1,
  "creator": "root"
}</code></p>

			<div> For more example, see the <a href=/doc/nodata.html>nodata.html</a></div>
    </section>
  </article>

  <article class='PUT'>
    <a name='/unbind_a_host_on_hostgroup' href='#/unbind_a_host_on_hostgroup'>
			<h2><code><b>PUT</b> /api/v1/hostgroup/host</code> Unbind a Host on HostGroup</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>如果使用者不是 Admin 只能对创建的hostgroup做操作</li>
</ul>

<h3 id="request">Request</h3>
<p><code>{
  "hostgroup_id": 343,
  "host_id": 9312
}</code></p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{"message":"unbind host:9312 of hostgroup: 343"}</code></p>

			<div> For more example, see the <a href=/doc/hostgroup.html>hostgroup.html</a></div>
    </section>
  </article>

  <article class='PUT'>
    <a name='/hostgroup_template_unbind' href='#/hostgroup_template_unbind'>
			<h2><code><b>PUT</b> /api/v1/hostgroup/template</code> Unbind A Template of A HostGroup</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
</ul>

<h3 id="request">Request</h3>

<p><code>{
  "tpl_id": 5,
  "grp_id": 3
}</code></p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{"message":"template: 5 is unbind of HostGroup: 3"}</code></p>

			<div> For more example, see the <a href=/doc/hostgroup.html>hostgroup.html</a></div>
    </section>
  </article>

  <article class='GET'>
    <a name='/hostgroup_template_list' href='#/hostgroup_template_list'>
			<h2><code><b>GET</b> /api/v1/hostgroup/#{hostgroup_id}/template</code> Get Template List of  HostGroup</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>ex. /api/v1/hostgroup/3/template</li>
</ul>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{
  "hostgroup": {
    "id": 3,
    "grp_name": "hostgroupA",
    "create_user": "root"
  },
  "templates": [
    {
      "id": 5,
      "tpl_name": "TplA",
      "parent_id": 0,
      "action_id": 12,
      "create_user": "root"
    },
    {
      "id": 91,
      "tpl_name": "TplB",
      "parent_id": 0,
      "action_id": 59,
      "create_user": "userA"
    },
    {
      "id": 94,
      "tpl_name": "TplB",
      "parent_id": 0,
      "action_id": 62,
      "create_user": "userA"
    },
    {
      "id": 103,
      "tpl_name": "TplC",
      "parent_id": 0,
      "action_id": 74,
      "create_user": "root"
    },
    {
      "id": 104,
      "tpl_name": "TplD",
      "parent_id": 0,
      "action_id": 75,
      "create_user": "root"
    },
    {
      "id": 105,
      "tpl_name": "TplE",
      "parent_id": 0,
      "action_id": 76,
      "create_user": "root"
    },
    {
      "id": 116,
      "tpl_name": "TplG",
      "parent_id": 0,
      "action_id": 87,
      "create_user": "root"
    },
    {
      "id": 125,
      "tpl_name": "TplH",
      "parent_id": 0,
      "action_id": 99,
      "create_user": "root"
    },
    {
      "id": 126,
      "tpl_name": "http",
      "parent_id": 0,
      "action_id": 100,
      "create_user": "root"
    },
    {
      "id": 127,
      "tpl_name": "TplJ",
      "parent_id": 0,
      "action_id": 101,
      "create_user": "root"
    }
  ]
}</code></p>

			<div> For more example, see the <a href=/doc/hostgroup.html>hostgroup.html</a></div>
    </section>
  </article>

  <article class='POST'>
    <a name='/hostgroup_template_bind' href='#/hostgroup_template_bind'>
			<h2><code><b>POST</b> /api/v1/hostgroup/template</code> Bind A Template to HostGroup</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
</ul>

<h3 id="request">Request</h3>

<p><code>{
  "tpl_id": 5,
  "grp_id": 3
}</code></p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{"grp_id":3,"tpl_id":5,"bind_user":2}</code></p>

			<div> For more example, see the <a href=/doc/hostgroup.html>hostgroup.html</a></div>
    </section>
  </article>

  <article class='GET'>
    <a name='/hostgroup_list' href='#/hostgroup_list'>
			<h2><code><b>GET</b> /api/v1/hostgroup/</code> HostGroup List</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
</ul>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>[
  {
    "id": 3,
    "grp_name": "docker-A",
    "create_user": "user-A"
  },
  {
    "id": 5,
    "grp_name": "docker-T",
    "create_user": "user-B"
  },
  {
    "id": 8,
    "grp_name": "docker-F",
    "create_user": "root"
  }
]</code></p>

			<div> For more example, see the <a href=/doc/hostgroup.html>hostgroup.html</a></div>
    </section>
  </article>

  <article class='GET'>
    <a name='/hostgroup_get_info_by_id' href='#/hostgroup_get_info_by_id'>
			<h2><code><b>GET</b> /api/v1/hostgroup/#{hostgroup_id}</code> Get HostGroup info by id</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>ex. /api/v1/hostgroup/343</li>
</ul>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{
  "hostgroup": {
    "id": 343,
    "grp_name": "testhostgroup",
    "create_user": "root"
  },
  "hosts": [
    {
      "id": 9313,
      "hostname": "agent_test",
      "ip": "",
      "agent_version": "",
      "plugin_version": "",
      "maintain_begin": 0,
      "maintain_end": 0
    }
  ]
}</code></p>

			<div> For more example, see the <a href=/doc/hostgroup.html>hostgroup.html</a></div>
    </section>
  </article>

  <article class='DELETE'>
    <a name='/hostgroup_delete' href='#/hostgroup_delete'>
			<h2><code><b>DELETE</b> /api/v1/hostgroup/#{hostgroup_id}</code> Delete HostGroup</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required
ex. /api/v1/hostgroup/343</li>
  <li>如果使用者不是 Admin 只能对创建的hostgroup做操作</li>
</ul>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{"message":"hostgroup:343 has been deleted"}</code></p>

			<div> For more example, see the <a href=/doc/hostgroup.html>hostgroup.html</a></div>
    </section>
  </article>

  <article class='POST'>
    <a name='/host_create' href='#/host_create'>
			<h2><code><b>POST</b> /api/v1/hostgroup</code> Create HostGroup</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
</ul>

<h3 id="request">Request</h3>
<p><code>{"name":"testhostgroup"}</code></p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{
  "id": 343,
  "grp_name": "testhostgroup",
  "create_user": "root"
}</code></p>

			<div> For more example, see the <a href=/doc/hostgroup.html>hostgroup.html</a></div>
    </section>
  </article>

  <article class='POST'>
    <a name='/add_host_to_hostgroup' href='#/add_host_to_hostgroup'>
			<h2><code><b>POST</b> /api/v1/hostgroup/host</code> Add Hosts to HostGroup</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>Hosts 每次会覆盖该HostGroup内现有的Host List</li>
  <li>如果使用者不是 Admin 只能对创建的hostgroup做操作</li>
</ul>

<h3 id="request">Request</h3>
<p><code>{
  "hosts": [
    "testhostgroup",
    "agent_test"
  ],
  "hostgroup_id": 343
}</code></p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{"message":"[9312 9313] bind to hostgroup: 343"}</code></p>

			<div> For more example, see the <a href=/doc/hostgroup.html>hostgroup.html</a></div>
    </section>
  </article>

  <article class='POST'>
    <a name='/host_set_maintain_time' href='#/host_set_maintain_time'>
			<h2><code><b>POST</b> /api/v1/host/set_maintain_time</code> Set maintain time for hosts</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>hosts
    <ul>
      <li>[]string</li>
      <li>list of hosts</li>
    </ul>
  </li>
  <li>start_time
    <ul>
      <li>int</li>
      <li>unix time</li>
      <li>start_time &amp; endt_time to 0 mean unset maintain time</li>
    </ul>
  </li>
  <li>end_time
    <ul>
      <li>int</li>
      <li>unix time</li>
      <li>start_time &amp; endt_time to 0 mean unset maintain time</li>
    </ul>
  </li>
</ul>

<h3 id="request">Request</h3>
<p><code>{"start_time":1495447254,"hosts":["hostA","hostB"],"end_time":1495533650}</code></p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>[
  {
    "id": 8,
    "hostname": "hostB",
    "ip": "0.0.0.1",
    "agent_version": "5.2.0",
    "plugin_version": "e1571b9944626b1aa7ab3075262e9b171854b4c7",
    "maintain_begin": 1495447254,
    "maintain_end": 1495533650
  },
  {
    "id": 1,
    "hostname": "hostA",
    "ip": "0.0.0.2",
    "agent_version": "5.1.4",
    "plugin_version": "12155256cec3926186de22e282e67f4ce11cdbf7",
    "maintain_begin": 1495447254,
    "maintain_end": 1495533650
  }
]</code></p>

			<div> For more example, see the <a href=/doc/host.html>host.html</a></div>
    </section>
  </article>

  <article class='GET'>
    <a name='/host_related_template' href='#/host_related_template'>
			<h2><code><b>GET</b> /api/v1/host/#{host_id}/template</code> Get bind Template List of Host</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>ex. /api/v1/host/1647/template</li>
  <li>tpl_name: template name</li>
</ul>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>[
  {
    "id": 125,
    "tpl_name": "tplA",
    "parent_id": 0,
    "action_id": 99,
    "create_user": "root"
  },
  {
    "id": 142,
    "tpl_name": "tplB",
    "parent_id": 0,
    "action_id": 111,
    "create_user": "root"
  },
  {
    "id": 180,
    "tpl_name": "tplC",
    "parent_id": 0,
    "action_id": 142,
    "create_user": "root"
  }
]</code></p>

			<div> For more example, see the <a href=/doc/host.html>host.html</a></div>
    </section>
  </article>

  <article class='GET'>
    <a name='/host_related_hostgroup' href='#/host_related_hostgroup'>
			<h2><code><b>GET</b> /api/v1/host/#{host_id}/hostgroup</code> Get related HostGorup of Host</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>ex. /api/v1/host/1647/hostgroup</li>
  <li>grp_name: hostgroup name</li>
</ul>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>[
  {
    "id": 78,
    "grp_name": "tplB",
    "create_user": "userA"
  },
  {
    "id": 145,
    "grp_name": "Owl_Default_Group",
    "create_user": "userA"
  }
]</code></p>

			<div> For more example, see the <a href=/doc/host.html>host.html</a></div>
    </section>
  </article>

  <article class='POST'>
    <a name='/graph_histroy' href='#/graph_histroy'>
			<h2><code><b>POST</b> /api/v1/graph/history</code> Graph History</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>dashobard 画图资料</li>
  <li>consol_fun:
    <ul>
      <li>AVERAGE</li>
      <li>MAX</li>
      <li>MIN</li>
    </ul>
  </li>
</ul>

<h3 id="request">Request</h3>
<p><code>{
  "step": 60,
  "start_time": 1481854596,
  "hostnames": [
    "docker-a",
    "docker-b",
    "docker-c"
  ],
  "end_time": 1481858193,
  "counters": [
    "cpu.idle",
    "cpu.iowait"
  ],
  "consol_fun": "AVERAGE"
}</code></p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>[
  {
    "endpoint": "docker-a",
    "counter": "cpu.idle",
    "dstype": "GAUGE",
    "step": 60,
    "Values": [
      {
        "timestamp": 1481854620,
        "value": 98.154506
      },
      {
        "timestamp": 1481854680,
        "value": 97.864161
      },
      {
        "timestamp": 1481854740,
        "value": 97.521368
      },
      {
        "timestamp": 1481854800,
        "value": 97.587247
      },
      {
        "timestamp": 1481854860,
        "value": 97.440273
      },
      {
        "timestamp": 1481854920,
        "value": 97.914006
      },
      {
        "timestamp": 1481854980,
        "value": 97.223409
      },
      {
        "timestamp": 1481855040,
        "value": 98.029135
      },
      {
        "timestamp": 1481855100,
        "value": 97.614991
      },
      {
        "timestamp": 1481855160,
        "value": 97.565143
      },
      {
        "timestamp": 1481855220,
        "value": 97.070064
      },
      {
        "timestamp": 1481855280,
        "value": 98.726115
      },
      {
        "timestamp": 1481855340,
        "value": 98.720137
      },
      {
        "timestamp": 1481855400,
        "value": 98.205128
      },
      {
        "timestamp": 1481855460,
        "value": 97.70017
      },
      {
        "timestamp": 1481855520,
        "value": 97.780623
      },
      {
        "timestamp": 1481855580,
        "value": 97.379725
      },
      {
        "timestamp": 1481855640,
        "value": 98.034188
      },
      {
        "timestamp": 1481855700,
        "value": 98.246364
      },
      {
        "timestamp": 1481855760,
        "value": 98.372591
      },
      {
        "timestamp": 1481855820,
        "value": 98.152921
      },
      {
        "timestamp": 1481855880,
        "value": 97.914006
      },
      {
        "timestamp": 1481855940,
        "value": 95.592048
      },
      {
        "timestamp": 1481856000,
        "value": 94.11512
      },
      {
        "timestamp": 1481856060,
        "value": 97.596567
      },
      {
        "timestamp": 1481856120,
        "value": 97.501077
      },
      {
        "timestamp": 1481856180,
        "value": 96.374622
      },
      {
        "timestamp": 1481856240,
        "value": 89.570815
      },
      {
        "timestamp": 1481856300,
        "value": 96.410035
      },
      {
        "timestamp": 1481856360,
        "value": 97.567222
      },
      {
        "timestamp": 1481856420,
        "value": 97.25204
      },
      {
        "timestamp": 1481856480,
        "value": 95.356836
      },
      {
        "timestamp": 1481856540,
        "value": 97.330508
      },
      {
        "timestamp": 1481856600,
        "value": 96.999571
      },
      {
        "timestamp": 1481856660,
        "value": 97.278912
      },
      {
        "timestamp": 1481856720,
        "value": 97.229327
      },
      {
        "timestamp": 1481856780,
        "value": 97.212693
      },
      {
        "timestamp": 1481856840,
        "value": 96.503198
      },
      {
        "timestamp": 1481856900,
        "value": 96.790757
      },
      {
        "timestamp": 1481856960,
        "value": 98.121264
      },
      {
        "timestamp": 1481857020,
        "value": 98.550725
      },
      {
        "timestamp": 1481857080,
        "value": 97.548387
      },
      {
        "timestamp": 1481857140,
        "value": 98.466127
      },
      {
        "timestamp": 1481857200,
        "value": 97.9006
      },
      {
        "timestamp": 1481857260,
        "value": 97.985426
      },
      {
        "timestamp": 1481857320,
        "value": 97.357204
      },
      {
        "timestamp": 1481857380,
        "value": 97.086547
      },
      {
        "timestamp": 1481857440,
        "value": 98.770144
      },
      {
        "timestamp": 1481857500,
        "value": 97.727273
      },
      {
        "timestamp": 1481857560,
        "value": 98.595147
      },
      {
        "timestamp": 1481857620,
        "value": 97.867804
      },
      {
        "timestamp": 1481857680,
        "value": 98.128456
      },
      {
        "timestamp": 1481857740,
        "value": 97.886729
      },
      {
        "timestamp": 1481857800,
        "value": 95.969453
      },
      {
        "timestamp": 1481857860,
        "value": 97.134303
      },
      {
        "timestamp": 1481857920,
        "value": 98.033348
      },
      {
        "timestamp": 1481857980,
        "value": 96.511628
      },
      {
        "timestamp": 1481858040,
        "value": 96.522112
      },
      {
        "timestamp": 1481858100,
        "value": 97.49043
      },
      {
        "timestamp": 1481858160,
        "value": 96.958012
      }
    ]
  },
  {
    "endpoint": "docker-a",
    "counter": "cpu.iowait",
    "dstype": "GAUGE",
    "step": 60,
    "Values": [
      {
        "timestamp": 1481854620,
        "value": 0.815451
      },
      {
        "timestamp": 1481854680,
        "value": 0.598035
      },
      {
        "timestamp": 1481854740,
        "value": 1.239316
      },
      {
        "timestamp": 1481854800,
        "value": 0.775528
      },
      {
        "timestamp": 1481854860,
        "value": 0.895904
      },
      {
        "timestamp": 1481854920,
        "value": 0.893997
      },
      {
        "timestamp": 1481854980,
        "value": 0.811619
      },
      {
        "timestamp": 1481855040,
        "value": 0.728363
      },
      {
        "timestamp": 1481855100,
        "value": 0.425894
      },
      {
        "timestamp": 1481855160,
        "value": 0.768902
      },
      {
        "timestamp": 1481855220,
        "value": 1.443737
      },
      {
        "timestamp": 1481855280,
        "value": 0.29724
      },
      {
        "timestamp": 1481855340,
        "value": 0.213311
      },
      {
        "timestamp": 1481855400,
        "value": 0.512821
      },
      {
        "timestamp": 1481855460,
        "value": 1.022147
      },
      {
        "timestamp": 1481855520,
        "value": 0.810926
      },
      {
        "timestamp": 1481855580,
        "value": 0.515464
      },
      {
        "timestamp": 1481855640,
        "value": 0.555556
      },
      {
        "timestamp": 1481855700,
        "value": 0.470488
      },
      {
        "timestamp": 1481855760,
        "value": 0.428266
      },
      {
        "timestamp": 1481855820,
        "value": 0.386598
      },
      {
        "timestamp": 1481855880,
        "value": 0.63857
      },
      {
        "timestamp": 1481855940,
        "value": 0.432152
      },
      {
        "timestamp": 1481856000,
        "value": 0.730241
      },
      {
        "timestamp": 1481856060,
        "value": 0.643777
      },
      {
        "timestamp": 1481856120,
        "value": 0.603188
      },
      {
        "timestamp": 1481856180,
        "value": 1.035822
      },
      {
        "timestamp": 1481856240,
        "value": 8.927039
      },
      {
        "timestamp": 1481856300,
        "value": 0.605536
      },
      {
        "timestamp": 1481856360,
        "value": 0.341443
      },
      {
        "timestamp": 1481856420,
        "value": 0.343495
      },
      {
        "timestamp": 1481856480,
        "value": 0.601892
      },
      {
        "timestamp": 1481856540,
        "value": 0.466102
      },
      {
        "timestamp": 1481856600,
        "value": 0.557222
      },
      {
        "timestamp": 1481856660,
        "value": 0.382653
      },
      {
        "timestamp": 1481856720,
        "value": 0.554135
      },
      {
        "timestamp": 1481856780,
        "value": 0.428816
      },
      {
        "timestamp": 1481856840,
        "value": 1.151386
      },
      {
        "timestamp": 1481856900,
        "value": 0.556269
      },
      {
        "timestamp": 1481856960,
        "value": 0.469684
      },
      {
        "timestamp": 1481857020,
        "value": 0.29838
      },
      {
        "timestamp": 1481857080,
        "value": 0.903226
      },
      {
        "timestamp": 1481857140,
        "value": 0.426076
      },
      {
        "timestamp": 1481857200,
        "value": 0.771208
      },
      {
        "timestamp": 1481857260,
        "value": 1.071582
      },
      {
        "timestamp": 1481857320,
        "value": 1.278772
      },
      {
        "timestamp": 1481857380,
        "value": 0.642674
      },
      {
        "timestamp": 1481857440,
        "value": 0.212044
      },
      {
        "timestamp": 1481857500,
        "value": 0.686106
      },
      {
        "timestamp": 1481857560,
        "value": 0.425713
      },
      {
        "timestamp": 1481857620,
        "value": 0.810235
      },
      {
        "timestamp": 1481857680,
        "value": 0.765632
      },
      {
        "timestamp": 1481857740,
        "value": 0.380389
      },
      {
        "timestamp": 1481857800,
        "value": 0.296988
      },
      {
        "timestamp": 1481857860,
        "value": 0.855432
      },
      {
        "timestamp": 1481857920,
        "value": 0.470286
      },
      {
        "timestamp": 1481857980,
        "value": 1.248923
      },
      {
        "timestamp": 1481858040,
        "value": 1.631602
      },
      {
        "timestamp": 1481858100,
        "value": 1.531263
      },
      {
        "timestamp": 1481858160,
        "value": 0.599829
      }
    ]
  },
  {
    "endpoint": "docker-b",
    "counter": "cpu.idle",
    "dstype": "GAUGE",
    "step": 60,
    "Values": [
      {
        "timestamp": 1481854620,
        "value": 93.811775
      },
      {
        "timestamp": 1481854680,
        "value": 94.150538
      },
      {
        "timestamp": 1481854740,
        "value": 94.991438
      },
      {
        "timestamp": 1481854800,
        "value": 93.287435
      },
      {
        "timestamp": 1481854860,
        "value": 96.642584
      },
      {
        "timestamp": 1481854920,
        "value": 98.207426
      },
      {
        "timestamp": 1481854980,
        "value": 94.801875
      },
      {
        "timestamp": 1481855040,
        "value": 97.827939
      },
      {
        "timestamp": 1481855100,
        "value": 94.439692
      },
      {
        "timestamp": 1481855160,
        "value": 98.292787
      },
      {
        "timestamp": 1481855220,
        "value": 95.027624
      },
      {
        "timestamp": 1481855280,
        "value": 98.218074
      },
      {
        "timestamp": 1481855340,
        "value": 97.402044
      },
      {
        "timestamp": 1481855400,
        "value": 94.368601
      },
      {
        "timestamp": 1481855460,
        "value": 94.772631
      },
      {
        "timestamp": 1481855520,
        "value": 93.992331
      },
      {
        "timestamp": 1481855580,
        "value": 94.939446
      },
      {
        "timestamp": 1481855640,
        "value": 97.780623
      },
      {
        "timestamp": 1481855700,
        "value": 97.860505
      },
      {
        "timestamp": 1481855760,
        "value": 92.765411
      },
      {
        "timestamp": 1481855820,
        "value": 98.029979
      },
      {
        "timestamp": 1481855880,
        "value": 94.523502
      },
      {
        "timestamp": 1481855940,
        "value": 94.102564
      },
      {
        "timestamp": 1481856000,
        "value": 94.96587
      },
      {
        "timestamp": 1481856060,
        "value": 94.382979
      },
      {
        "timestamp": 1481856120,
        "value": 93.336181
      },
      {
        "timestamp": 1481856180,
        "value": 97.988875
      },
      {
        "timestamp": 1481856240,
        "value": 94.401709
      },
      {
        "timestamp": 1481856300,
        "value": 94.619983
      },
      {
        "timestamp": 1481856360,
        "value": 94.916702
      },
      {
        "timestamp": 1481856420,
        "value": 94.089733
      },
      {
        "timestamp": 1481856480,
        "value": 94.475375
      },
      {
        "timestamp": 1481856540,
        "value": 93.576017
      },
      {
        "timestamp": 1481856600,
        "value": 94.010195
      },
      {
        "timestamp": 1481856660,
        "value": 94.137783
      },
      {
        "timestamp": 1481856720,
        "value": 95.264505
      },
      {
        "timestamp": 1481856780,
        "value": 96.879008
      },
      {
        "timestamp": 1481856840,
        "value": 96.38759
      },
      {
        "timestamp": 1481856900,
        "value": 93.830334
      },
      {
        "timestamp": 1481856960,
        "value": 96.282051
      },
      {
        "timestamp": 1481857020,
        "value": 94.173093
      },
      {
        "timestamp": 1481857080,
        "value": 95.382642
      },
      {
        "timestamp": 1481857140,
        "value": 94.107452
      },
      {
        "timestamp": 1481857200,
        "value": 93.611584
      },
      {
        "timestamp": 1481857260,
        "value": 97.0538
      },
      {
        "timestamp": 1481857320,
        "value": 94.404101
      },
      {
        "timestamp": 1481857380,
        "value": 94.449189
      },
      {
        "timestamp": 1481857440,
        "value": 98.286938
      },
      {
        "timestamp": 1481857500,
        "value": 93.720632
      },
      {
        "timestamp": 1481857560,
        "value": 93.669803
      },
      {
        "timestamp": 1481857620,
        "value": 93.865294
      },
      {
        "timestamp": 1481857680,
        "value": 94.498934
      },
      {
        "timestamp": 1481857740,
        "value": 94.610778
      },
      {
        "timestamp": 1481857800,
        "value": 93.929029
      },
      {
        "timestamp": 1481857860,
        "value": 97.827939
      },
      {
        "timestamp": 1481857920,
        "value": 97.76824
      },
      {
        "timestamp": 1481857980,
        "value": 91.079014
      },
      {
        "timestamp": 1481858040,
        "value": 97.854998
      },
      {
        "timestamp": 1481858100,
        "value": 93.399482
      },
      {
        "timestamp": 1481858160,
        "value": 94.014536
      }
    ]
  },
  {
    "endpoint": "docker-b",
    "counter": "cpu.iowait",
    "dstype": "GAUGE",
    "step": 60,
    "Values": [
      {
        "timestamp": 1481854620,
        "value": 0.171895
      },
      {
        "timestamp": 1481854680,
        "value": 0.645161
      },
      {
        "timestamp": 1481854740,
        "value": 0.47089
      },
      {
        "timestamp": 1481854800,
        "value": 0.731497
      },
      {
        "timestamp": 1481854860,
        "value": 0.594985
      },
      {
        "timestamp": 1481854920,
        "value": 0.256082
      },
      {
        "timestamp": 1481854980,
        "value": 0.340861
      },
      {
        "timestamp": 1481855040,
        "value": 0.255537
      },
      {
        "timestamp": 1481855100,
        "value": 0.684346
      },
      {
        "timestamp": 1481855160,
        "value": 0.384123
      },
      {
        "timestamp": 1481855220,
        "value": 0.084998
      },
      {
        "timestamp": 1481855280,
        "value": 0.466695
      },
      {
        "timestamp": 1481855340,
        "value": 1.192504
      },
      {
        "timestamp": 1481855400,
        "value": 0.511945
      },
      {
        "timestamp": 1481855460,
        "value": 0.594985
      },
      {
        "timestamp": 1481855520,
        "value": 0.383468
      },
      {
        "timestamp": 1481855580,
        "value": 1.038062
      },
      {
        "timestamp": 1481855640,
        "value": 0.981647
      },
      {
        "timestamp": 1481855700,
        "value": 0.599059
      },
      {
        "timestamp": 1481855760,
        "value": 0.770548
      },
      {
        "timestamp": 1481855820,
        "value": 0.428266
      },
      {
        "timestamp": 1481855880,
        "value": 0.301854
      },
      {
        "timestamp": 1481855940,
        "value": 0.598291
      },
      {
        "timestamp": 1481856000,
        "value": 0.853242
      },
      {
        "timestamp": 1481856060,
        "value": 0.723404
      },
      {
        "timestamp": 1481856120,
        "value": 1.025203
      },
      {
        "timestamp": 1481856180,
        "value": 0.470689
      },
      {
        "timestamp": 1481856240,
        "value": 0.213675
      },
      {
        "timestamp": 1481856300,
        "value": 0.768574
      },
      {
        "timestamp": 1481856360,
        "value": 0.256301
      },
      {
        "timestamp": 1481856420,
        "value": 0.388266
      },
      {
        "timestamp": 1481856480,
        "value": 0.342612
      },
      {
        "timestamp": 1481856540,
        "value": 0.813704
      },
      {
        "timestamp": 1481856600,
        "value": 0.594732
      },
      {
        "timestamp": 1481856660,
        "value": 0.684638
      },
      {
        "timestamp": 1481856720,
        "value": 1.535836
      },
      {
        "timestamp": 1481856780,
        "value": 0.25652
      },
      {
        "timestamp": 1481856840,
        "value": 0.38249
      },
      {
        "timestamp": 1481856900,
        "value": 1.028278
      },
      {
        "timestamp": 1481856960,
        "value": 1.025641
      },
      {
        "timestamp": 1481857020,
        "value": 0.642674
      },
      {
        "timestamp": 1481857080,
        "value": 0.726806
      },
      {
        "timestamp": 1481857140,
        "value": 0.649913
      },
      {
        "timestamp": 1481857200,
        "value": 0.809199
      },
      {
        "timestamp": 1481857260,
        "value": 0.256191
      },
      {
        "timestamp": 1481857320,
        "value": 0.512601
      },
      {
        "timestamp": 1481857380,
        "value": 0.59778
      },
      {
        "timestamp": 1481857440,
        "value": 0.342612
      },
      {
        "timestamp": 1481857500,
        "value": 1.19607
      },
      {
        "timestamp": 1481857560,
        "value": 0.983747
      },
      {
        "timestamp": 1481857620,
        "value": 0.900901
      },
      {
        "timestamp": 1481857680,
        "value": 0.639659
      },
      {
        "timestamp": 1481857740,
        "value": 0.641574
      },
      {
        "timestamp": 1481857800,
        "value": 0.598546
      },
      {
        "timestamp": 1481857860,
        "value": 0.425894
      },
      {
        "timestamp": 1481857920,
        "value": 0.729614
      },
      {
        "timestamp": 1481857980,
        "value": 0.339847
      },
      {
        "timestamp": 1481858040,
        "value": 0.686401
      },
      {
        "timestamp": 1481858100,
        "value": 0.560828
      },
      {
        "timestamp": 1481858160,
        "value": 0.51304
      }
    ]
  },
  {
    "endpoint": "docker-c",
    "counter": "cpu.idle",
    "dstype": "",
    "step": 0,
    "Values": []
  },
  {
    "endpoint": "docker-c",
    "counter": "cpu.iowait",
    "dstype": "",
    "step": 0,
    "Values": []
  }
]</code></p>

			<div> For more example, see the <a href=/doc/graph.html>graph.html</a></div>
    </section>
  </article>

  <article class='GET'>
    <a name='/endpointstr_counter' href='#/endpointstr_counter'>
			<h2><code><b>GET</b> /api/v1/graph/endpointsrt_counter</code> Get Counter of Endpoint by endpoint names</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>params:
    <ul>
      <li>endpoints: endpoint name lists</li>
      <li>q: 使用 regex 查询字符
        <ul>
          <li>option 参数</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>[
  "df.inodes.free.percent/fstype=ext4,mount=/",
  "disk.io.read_sectors/device=sda",
  "disk.io.write_merged/device=sdh",
  "net.if.total.packets/iface=eth4",
  "snmp.Udp.RcvbufErrors"
]</code></p>

			<div> For more example, see the <a href=/doc/graph.html>graph.html</a></div>
    </section>
  </article>

  <article class='GET'>
    <a name='/endpoints' href='#/endpoints'>
			<h2><code><b>GET</b> /api/v1/graph/endpoint</code> Endpoint List</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>q: 使用 regex 查询字符
    <ul>
      <li>option 参数</li>
    </ul>
  </li>
</ul>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>[
  {
    "endpoint": "docker-agent",
    "id": 7
  },
  {
    "endpoint": "docker-task",
    "id": 6
  },
  {
    "endpoint": "graph",
    "id": 3
  },
  {
    "endpoint": "nodata",
    "id": 920
  },
  {
    "endpoint": "task",
    "id": 5
  }
]</code></p>

			<div> For more example, see the <a href=/doc/graph.html>graph.html</a></div>
    </section>
  </article>

  <article class='GET'>
    <a name='/endpoint_counter' href='#/endpoint_counter'>
			<h2><code><b>GET</b> /api/v1/graph/endpoint_counter</code> Get Counter of Endpoint</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>params:
    <ul>
      <li>eid: endpoint id list</li>
      <li>q: 使用 regex 查询字符
        <ul>
          <li>option 参数</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>[
  "disk.io.avgqu-sz/device=sda",
  "disk.io.ios_in_progress/device=sda",
  "disk.io.msec_read/device=sda",
  "disk.io.read_requests/device=sda",
  ...
]</code></p>

			<div> For more example, see the <a href=/doc/graph.html>graph.html</a></div>
    </section>
  </article>

  <article class='PUT'>
    <a name='/expression_update' href='#/expression_update'>
			<h2><code><b>PUT</b> /api/v1/expression</code> Update Expression</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
</ul>

<h3 id="request">Request</h3>

<p><code>{
  "right_value": "0",
  "priority": 2,
  "pause": 1,
  "op": "==",
  "note": "this is a test exp",
  "max_step": 3,
  "id": 5,
  "func": "all(#3)",
  "expression": "each(metric=agent.alive endpoint=docker-agent)",
  "action": {
    "url": "http://localhost:1234/callback",
    "uic": [
      "test",
      "test2"
    ],
    "callback": 0,
    "before_callback_sms": 1,
    "before_callback_mail": 0,
    "after_callback_sms": 1,
    "after_callback_mail": 0
  }
}</code></p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{"message":"expression:5 has been updated"}</code></p>

			<div> For more example, see the <a href=/doc/expression.html>expression.html</a></div>
    </section>
  </article>

  <article class='GET'>
    <a name='/expression_list' href='#/expression_list'>
			<h2><code><b>GET</b> /api/v1/expression</code> Expression List</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
</ul>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>[
  {
    "id": 2,
    "expression": "each(metric=? xx=yy)",
    "func": "all(#3)",
    "op": "==",
    "right_value": "0",
    "max_step": 3,
    "priority": 0,
    "note": "",
    "action_id": 18,
    "create_user": "root",
    "pause": 0
  },
  {
    "id": 3,
    "expression": "each(metric=ss.close.wait endpoint=docker-A)",
    "func": "all(#1)",
    "op": "!=",
    "right_value": "0",
    "max_step": 1,
    "priority": 4,
    "note": "boss docker-A 连接数大于10",
    "action_id": 91,
    "create_user": "root",
    "pause": 0
  },
  {
    "id": 4,
    "expression": "each(metric=agent.alive endpoint=docker-agent)",
    "func": "all(#3)",
    "op": "==",
    "right_value": "0",
    "max_step": 3,
    "priority": 2,
    "note": "this is a test exp",
    "action_id": 176,
    "create_user": "root",
    "pause": 1
  }
]</code></p>

			<div> For more example, see the <a href=/doc/expression.html>expression.html</a></div>
    </section>
  </article>

  <article class='GET'>
    <a name='/expression_info_by_id' href='#/expression_info_by_id'>
			<h2><code><b>GET</b> /api/v1/expression/#{expression_id}</code> Get Expression Info by id</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required
ex. /api/v1/expression/5</li>
</ul>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{
  "action": {
    "id": 5,
    "uic": "taipei",
    "url": "",
    "callback": 0,
    "before_callback_sms": 0,
    "before_callback_mail": 0,
    "after_callback_sms": 0,
    "after_callback_mail": 0
  },
  "expression": {
    "id": 5,
    "expression": "each(metric=agent.alive endpoint=docker-agent)",
    "func": "all(#3)",
    "op": "==",
    "right_value": "0",
    "max_step": 3,
    "priority": 2,
    "note": "this is a test exp",
    "action_id": 177,
    "create_user": "root",
    "pause": 1
  }
}</code></p>

			<div> For more example, see the <a href=/doc/expression.html>expression.html</a></div>
    </section>
  </article>

  <article class='DELETE'>
    <a name='/expression_delete' href='#/expression_delete'>
			<h2><code><b>DELETE</b> /api/v1/expression/#{expression_id}</code> Delete Expression</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>ex. /api/v1/expression/5</li>
</ul>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{"message":"expression:5 has been deleted"}</code></p>

			<div> For more example, see the <a href=/doc/expression.html>expression.html</a></div>
    </section>
  </article>

  <article class='POST'>
    <a name='/expression_create' href='#/expression_create'>
			<h2><code><b>POST</b> /api/v1/expression</code> Create Expression</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
</ul>

<h3 id="request">Request</h3>

<p><code>{
  "right_value": "0",
  "priority": 2,
  "pause": 0,
  "op": "==",
  "note": "this is a test exp",
  "max_step": 3,
  "func": "all(#3)",
  "expression": "each(metric=agent.alive endpoint=docker-agent)",
  "action": {
    "url": "http://localhost:1234/callback",
    "uic": [
      "test"
    ],
    "callback": 1,
    "before_callback_sms": 1,
    "before_callback_mail": 0,
    "after_callback_sms": 1,
    "after_callback_mail": 0
  }
}</code></p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{"message":"expression created"}</code></p>

			<div> For more example, see the <a href=/doc/expression.html>expression.html</a></div>
    </section>
  </article>

  <article class='GET'>
    <a name='/get_aggreator_by_id' href='#/get_aggreator_by_id'>
			<h2><code><b>GET</b> /api/v1/aggregators</code> Get Aggreator Info by id</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
</ul>

<h3 id="request">Request</h3>

<p><code>{
  "tags": "",
  "step": 60,
  "numerator": "$(cpu.idle)",
  "metric": "test.idle",
  "hostgroup_id": 343,
  "endpoint": "testenp",
  "denominator": "2"
}</code></p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{
  "id": 16,
  "grp_id": 343,
  "numerator": "$(cpu.idle)",
  "denominator": "2",
  "endpoint": "testenp",
  "metric": "test.idle",
  "tags": "",
  "ds_type": "GAUGE",
  "step": 60,
  "creator": "root"
}</code></p>

			<div> For more example, see the <a href=/doc/aggreator.html>aggreator.html</a></div>
    </section>
  </article>

  <article class='PUT'>
    <a name='/aggreator_update' href='#/aggreator_update'>
			<h2><code><b>PUT</b> /api/v1/aggregators</code> Update Aggreator</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>numerator: 分子</li>
  <li>denominator: 分母</li>
  <li>step: 汇报周期（秒为单位）</li>
</ul>

<h3 id="request">Request</h3>

<p><code>{
  "tags": "",
  "step": 60,
  "numerator": "$(cpu.idle)",
  "metric": "test.idle",
  "id": 16,
  "endpoint": "testenp",
  "denominator": "$#"
}</code></p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{
  "id": 16,
  "grp_id": 343,
  "numerator": "$(cpu.idle)",
  "denominator": "$#",
  "endpoint": "testenp",
  "metric": "test.idle",
  "tags": "",
  "ds_type": "GAUGE",
  "step": 60,
  "creator": "root"
}</code></p>

			<div> For more example, see the <a href=/doc/aggreator.html>aggreator.html</a></div>
    </section>
  </article>

  <article class='GET'>
    <a name='/aggreator_of_hostgroup' href='#/aggreator_of_hostgroup'>
			<h2><code><b>GET</b> /api/v1/hostgroup/#{hostgroup_id}/aggregators</code> Get Aggreator List of HostGroup</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>ex. /api/v1/hostgroup/343/aggregators</li>
  <li>numerator: 分子</li>
  <li>denominator: 分母</li>
  <li>step: 汇报周期（秒为单位）</li>
</ul>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>[
  {
    "id": 13,
    "grp_id": 343,
    "numerator": "$(cpu.idle)",
    "denominator": "2",
    "endpoint": "testenp",
    "metric": "test.idle",
    "tags": "",
    "ds_type": "GAUGE",
    "step": 60,
    "creator": "root"
  },
  {
    "id": 14,
    "grp_id": 343,
    "numerator": "$(cpu.idle)",
    "denominator": "2",
    "endpoint": "testenp",
    "metric": "test.idle",
    "tags": "",
    "ds_type": "GAUGE",
    "step": 60,
    "creator": "root"
  }
]</code></p>

			<div> For more example, see the <a href=/doc/aggreator.html>aggreator.html</a></div>
    </section>
  </article>

  <article class='DELETE'>
    <a name='/aggreator_delete' href='#/aggreator_delete'>
			<h2><code><b>DELETE</b> /api/v1/aggregator/16</code> Delete Aggreator</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
</ul>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{"message":"aggregator:16 is deleted"}</code></p>

			<div> For more example, see the <a href=/doc/aggreator.html>aggreator.html</a></div>
    </section>
  </article>

  <article class='GET'>
    <a name='/aggreator_create' href='#/aggreator_create'>
			<h2><code><b>GET</b> /api/v1/aggregators</code> Create Aggreator to a HostGroup</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li>numerator: 分子</li>
  <li>denominator: 分母</li>
  <li>step: 汇报周期（秒为单位）</li>
</ul>

<h3 id="request">Request</h3>

<p><code>{
  "tags": "",
  "step": 60,
  "numerator": "$(cpu.idle)",
  "metric": "test.idle",
  "hostgroup_id": 343,
  "endpoint": "testenp",
  "denominator": "2"
}</code></p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{
  "id": 16,
  "grp_id": 343,
  "numerator": "$(cpu.idle)",
  "denominator": "2",
  "endpoint": "testenp",
  "metric": "test.idle",
  "tags": "",
  "ds_type": "GAUGE",
  "step": 60,
  "creator": "root"
}</code></p>

			<div> For more example, see the <a href=/doc/aggreator.html>aggreator.html</a></div>
    </section>
  </article>

  <article class='DELETE'>
    <a name='/admin_delete_user' href='#/admin_delete_user'>
			<h2><code><b>DELETE</b> /api/v1/admin/delete_user</code> Delete User</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li><code>Admin</code> usage</li>
</ul>

<h3 id="request">Request</h3>
<p><code>{"user_id": 31}</code></p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{"message":"user 31 has been delete, affect row: 1"}</code></p>

			<div> For more example, see the <a href=/doc/admin.html>admin.html</a></div>
    </section>
  </article>

  <article class='PUT'>
    <a name='/admin_change_user_passwd' href='#/admin_change_user_passwd'>
			<h2><code><b>PUT</b> /api/v1/admin/change_user_passwd</code> Change User's Password</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li><code>Admin</code> usage</li>
</ul>

<h3 id="request">Request</h3>
<p><code>{"user_id": 14, "password": "newpasswd"}</code></p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{"message":"password updated!"}</code></p>

			<div> For more example, see the <a href=/doc/admin.html>admin.html</a></div>
    </section>
  </article>

  <article class='PUT'>
    <a name='/admin_change_role' href='#/admin_change_role'>
			<h2><code><b>PUT</b> /api/v1/admin/change_user_role</code> Change User's role</h2></a>
    <section class='body'>
      <ul>
  <li><a href="#/authentication">Session</a> Required</li>
  <li><code>Admin</code> usage</li>
  <li>admin:
    <ul>
      <li>accept option:
        <ul>
          <li>yes</li>
          <li>no</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="request">Request</h3>
<p><code>{"user_id": 14, "admin": "yes"}</code></p>

<h3 id="response">Response</h3>

<p><code>Status: 200</code>
<code>{"message":"user role update sccuessful, affect row: 1"}</code></p>

			<div> For more example, see the <a href=/doc/admin.html>admin.html</a></div>
    </section>
  </article>

  <article class=''>
    <a name='/response-status-codes' href='#/response-status-codes'>
			<h2>Response status codes</h2></a>
    <section class='body'>
      <h3 id="success">Success</h3>

<ul>
  <li><code>POST</code>, <code>GET</code>, <code>PUT</code>, <code>DELETE</code> returns <code>200</code> on success,</li>
  <li>当参数使用不正确的时候会回覆 <code>400</code></li>
</ul>

<h3 id="section">参考</h3>

<p>return code 请参考 <a href="https://golang.org/src/net/http/status.go">status.go</a></p>

			<div></div>
    </section>
  </article>

  <article class='GET'>
    <a name='/authentication' href='#/authentication'>
			<h2><code><b>GET</b> /api/v1/user/login</code> Auth Session</h2></a>
    <section class='body'>
      <p>透过Session检查去判定使用者可否存取资源</p>

<h3 id="requestheader">RequestHeader</h3>
<p>透过RequestHeader 的 Apitoken做验证
<code>"RequestHeader": {
  "Apitoken": "{\"name\":\"root\",\"sig\":\"427d6803b78311e68afd0242ac130006\"}",
  "X-Forwarded-For": " 127.0.0.1"
}</code></p>

<h3 id="response">Response</h3>

<p>Session 为有效
<code>Status: 200</code>
<code>{"message":"session is vaild!"}</code></p>

<p>For errors responses, see the <a href="#/response-status-codes">response status codes documentation</a>.</p>

			<div></div>
    </section>
  </article>

</section>

  
  <!--[if lt IE 9]><script src='http://html5shim.googlecode.com/svn/trunk/html5.js'></script><![endif]-->
  <script src='assets.js' type='text/javascript'></script>
  <script>require('boot');</script>
</body>
</html>